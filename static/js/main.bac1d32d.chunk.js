(this["webpackJsonpsd-0x-project-frontend-online-store"]=this["webpackJsonpsd-0x-project-frontend-online-store"]||[]).push([[0],{23:function(t,e,a){t.exports=a(39)},28:function(t,e,a){},38:function(t,e,a){},39:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),c=a(20),i=a.n(c),o=(a(28),a(13)),l=a(3),u=a(4),s=a(6),m=a(5),d=a(11),p=a(1),h=a(16),g=a(7),v=a.n(g),f=a(12);function E(){return b.apply(this,arguments)}function b(){return(b=Object(f.a)(v.a.mark((function t(){var e,a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return"https://api.mercadolibre.com/sites/MLB/categories",t.next=3,fetch("https://api.mercadolibre.com/sites/MLB/categories");case 3:return e=t.sent,t.next=6,e.json();case 6:return a=t.sent,t.abrupt("return",a);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function y(t,e){return C.apply(this,arguments)}function C(){return(C=Object(f.a)(v.a.mark((function t(e,a){var n,r,c;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="https://api.mercadolibre.com/sites/MLB/search?category=".concat(e,"&q=").concat(a),t.next=3,fetch(n);case 3:return r=t.sent,t.next=6,r.json();case 6:return c=t.sent,t.abrupt("return",c);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function j(t){return O.apply(this,arguments)}function O(){return(O=Object(f.a)(v.a.mark((function t(e){var a,n,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a="https://api.mercadolibre.com/items/".concat(e),t.next=3,fetch(a);case 3:return n=t.sent,t.next=6,n.json();case 6:return r=t.sent,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))).apply(this,arguments)}var k=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;Object(l.a)(this,a);for(var n=arguments.length,r=new Array(n),c=0;c<n;c++)r[c]=arguments[c];return(t=e.call.apply(e,[this].concat(r))).passData=function(e){var a=t.props,n=a.results,r=a.getData,c=e.target.id;r(n.filter((function(t){return t.id===c})))},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.props.results;return r.a.createElement("div",null,e.map((function(e){return r.a.createElement("div",{"data-testid":"product",key:e.id},r.a.createElement("span",null,e.title),r.a.createElement("img",{src:e.thumbnail,alt:e.title}),r.a.createElement("span",null,e.price),r.a.createElement(d.b,{"data-testid":"product-detail-link",to:"/onlinestore-react/product/".concat(e.id)},"Details"),r.a.createElement("input",{"data-testid":"product-add-to-cart",type:"button",onClick:t.passData,id:e.id,value:" Add To Cart"}))})))}}]),a}(r.a.Component),x=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).state={data:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=Object(f.a)(v.a.mark((function t(){var e;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:e=t.sent,this.setState({data:Object(o.a)(e)});case 4:case"end":return t.stop()}}),t,this)})));return function(){return t.apply(this,arguments)}}()},{key:"render",value:function(){var t=this.state.data,e=this.props.onClick;return r.a.createElement("div",{className:"container-category"},t.map((function(t){return r.a.createElement("input",{key:t.id,"data-testid":"category",type:"button",id:t.id,name:"inputCategory",value:t.name,onClick:e})})))}}]),a}(r.a.Component),S=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).searchProducts=Object(f.a)(v.a.mark((function e(){var a,n,r,c;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.state,n=a.inputSearch,r=a.inputCategory,e.next=3,y(r,n);case 3:c=e.sent,t.setState({productList:c.results});case 5:case"end":return e.stop()}}),e)}))),t.renderBySearch=function(e){t.setState(Object(h.a)({},e.target.name,e.target.value))},t.rederByCategory=function(e){t.setState({inputCategory:e.target.id},(function(){return t.searchProducts()}))},t.getData=function(e){(0,t.props.getFromHome)(e)},t.state={inputSearch:"",inputCategory:"",productList:[]},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.state,e=t.inputSearch,a=t.productList;return r.a.createElement("div",{className:"home"},r.a.createElement("header",null,r.a.createElement(d.b,{to:"/onlinestore-react/cart","data-testid":"shopping-cart-button"},"Carrinho"),r.a.createElement("input",{type:"text","data-testid":"query-input",onChange:this.renderBySearch,value:e,name:"inputSearch"}),r.a.createElement("button",{type:"button","data-testid":"query-button",onClick:this.searchProducts},"Pesquisar"),r.a.createElement("h2",{"data-testid":"home-initial-message"},"Digite algum termo de pesquisa ou escolha uma categoria.")),r.a.createElement("div",{className:"containerCategory"},r.a.createElement("div",{className:"categorias"},r.a.createElement(x,{onClick:this.rederByCategory})),r.a.createElement("div",{className:"products"},0===a.length?r.a.createElement("p",null," Nenhum produto foi encontrado "):r.a.createElement(k,{results:a,getData:this.getData}))))}}]),a}(r.a.Component),w=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).increment=function(){t.setState((function(t){return{quantity:t.quantity+1}}))},t.decrement=function(){if(t.state.quantity<=1)return t.setState({quantity:1});t.setState((function(t){return{quantity:t.quantity-1}}))},t.state={quantity:1},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this.props,e=t.title,a=t.price,n=this.state.quantity;return r.a.createElement("div",{"data-testid":"shopping-cart-product-name"},r.a.createElement("h3",null,"".concat(e,",").concat(a)),r.a.createElement("p",{"data-testid":"shopping-cart-product-quantity"},r.a.createElement("span",null,n),r.a.createElement("input",{type:"submit","data-testid":"product-increase-quantity",onClick:this.increment,value:"+"}),r.a.createElement("input",{type:"submit","data-testid":"product-decrease-quantity",onClick:this.decrement,value:"-"})))}}]),a}(r.a.Component),F=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).resultRemoveDup=function(t){for(var e=[],a=0;a<t.length;a+=1)-1===e.indexOf(t[a])&&e.push(t[a]);return e},t.state={resultCart:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){var t=this.props.result;this.setState({resultCart:t})}},{key:"render",value:function(){var t=this.state.resultCart;return r.a.createElement("section",null,this.resultRemoveDup(t).map((function(t){return r.a.createElement("div",{key:t.id},r.a.createElement(w,{title:t.title,price:t.price}))})),r.a.createElement("div",null,r.a.createElement("h2",{"data-testid":"shopping-cart-empty-message"},"Seu carrinho est\xe1 vazio")),r.a.createElement(d.b,{to:"/onlinestore-react/checkout","data-testid":"checkout-products"}))}}]),a}(r.a.Component),D=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).renderProductDetail=Object(f.a)(v.a.mark((function e(){var a,n,r;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.props.location,n=a.pathname.replace("/product/",""),e.next=4,j(n);case 4:r=e.sent,t.setState({result:r});case 6:case"end":return e.stop()}}),e)}))),t.handleChange=function(e){var a=e.target,n=a.value,r=a.name;t.setState(Object(h.a)({},r,n))},t.handleSaveButton=function(e){e.preventDefault(),localStorage.clear();var a=t.state,n=a.rating,r={ratingEmail:a.ratingEmail,rating:n,ratingText:a.ratingText};t.setState((function(t){return{avaliation:[].concat(Object(o.a)(t.avaliation),[r]),ratingEmail:"",ratingText:""}}),(function(){return t.saveLocalStorage()}))},t.getLocalStorage=function(){var e=localStorage.getItem("avaliacoes"),a=JSON.parse(e);null!==e&&t.setState({avaliation:a})},t.saveLocalStorage=function(){var e=t.state.avaliation,a=JSON.stringify(e);localStorage.setItem("avaliacoes",a)},t.passData=function(){(0,t.props.getFromHome)([t.state.result])},t.state={result:[],rating:"",ratingEmail:"",ratingText:"",avaliation:[]},t}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.renderProductDetail(),this.getLocalStorage()}},{key:"render",value:function(){var t=this.state,e=t.result,a=t.avaliation,n=t.ratingText,c=t.ratingEmail;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",null,r.a.createElement("img",{src:e.thumbnail,alt:e.title}),r.a.createElement("p",{"data-testid":"product-detail-name"},e.title),r.a.createElement("p",null,e.price),r.a.createElement("button",{"data-testid":"product-detail-add-to-cart",type:"button",onClick:this.passData,id:e.id},"Add to Cart"),r.a.createElement(d.b,{"data-testid":"shopping-cart-button",to:"/onlinestore-react/cart"},"Cart")),r.a.createElement("div",null,r.a.createElement("h2",null," Avalia\xe7\xf5es "),r.a.createElement("form",null,r.a.createElement("input",{"data-testid":"product-detail-email",type:"email",placeholder:"email",name:"ratingEmail",onChange:this.handleChange,value:c}),r.a.createElement("label",{htmlFor:"rating"},r.a.createElement("input",{type:"radio",value:"1","data-testid":"1-rating",name:"rating",onChange:this.handleChange}),"1"),r.a.createElement("label",{htmlFor:"rating"},r.a.createElement("input",{type:"radio",value:"2","data-testid":"2-rating",name:"rating",onChange:this.handleChange}),"2"),r.a.createElement("label",{htmlFor:"rating"},r.a.createElement("input",{type:"radio",value:"3","data-testid":"3-rating",name:"rating",onChange:this.handleChange}),"3"),r.a.createElement("label",{htmlFor:"rating"},r.a.createElement("input",{type:"radio",value:"4","data-testid":"4-rating",name:"rating",onChange:this.handleChange}),"4"),r.a.createElement("label",{htmlFor:"rating"},r.a.createElement("input",{type:"radio",value:"5","data-testid":"5-rating",name:"rating",onChange:this.handleChange}),"5"),r.a.createElement("textarea",{"data-testid":"product-detail-evaluation",placeholder:"Escreva sua avalia\xe7\xe3o",maxLength:"2000",name:"ratingText",onChange:this.handleChange,value:n}),r.a.createElement("button",{type:"submit","data-testid":"submit-review-btn",onClick:this.handleSaveButton},"Enviar avalia\xe7\xe3o")),r.a.createElement("div",null,a.map((function(t,e){return r.a.createElement("div",{key:e},r.a.createElement("p",null,t.rating),r.a.createElement("p",null,t.ratingEmail),r.a.createElement("p",null,t.ratingText))})))))}}]),a}(r.a.Component),q=function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("form",null,r.a.createElement("label",{htmlFor:"full-name"},"Nome Completo:",r.a.createElement("input",{type:"text",id:"full-name","data-testid":"checkout-fullname"})),r.a.createElement("label",{htmlFor:"email"},"E-mail",r.a.createElement("input",{type:"email",id:"email","data-testid":"checkout-email"})),r.a.createElement("label",{htmlFor:"cpf"},"CPF:",r.a.createElement("input",{type:"text",id:"cpf","data-testid":"checkout-cpf"})),r.a.createElement("label",{htmlFor:"phone"},"Telefone:",r.a.createElement("input",{type:"text",id:"phone","data-testid":"checkout-phone"})),r.a.createElement("label",{htmlFor:"cep"},"CEP:",r.a.createElement("input",{type:"text",id:"cep","data-testid":"checkout-cep"}),r.a.createElement("label",{htmlFor:"checkout-address"},"Endere\xe7o:",r.a.createElement("input",{type:"text",id:"checkout-address","data-testid":"checkout-address"}))),r.a.createElement("button",{type:"submit"},"Concluir"))}}]),a}(r.a.Component),B=(a(38),function(t){Object(s.a)(a,t);var e=Object(m.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).getFromHome=function(e){var a=e;t.setState((function(t){return{result:[].concat(Object(o.a)(t.result),Object(o.a)(a))}}))},t.state={result:[]},t}return Object(u.a)(a,[{key:"render",value:function(){var t=this,e=this.state.result;return r.a.createElement(d.a,null,r.a.createElement(p.c,null,r.a.createElement(p.a,{path:"/onlinestore-react",exact:!0},r.a.createElement(S,{getFromHome:this.getFromHome})),r.a.createElement(p.a,{path:"/onlinestore-react/cart"},r.a.createElement(F,{result:e})),r.a.createElement(p.a,{path:"/onlinestore-react/product/:id",render:function(e){return r.a.createElement(D,Object.assign({},e,{getFromHome:t.getFromHome}))}}),r.a.createElement(p.a,{path:"/onlinestore-react/checkout",component:q})))}}]),a}(r.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(B,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))}},[[23,1,2]]]);
//# sourceMappingURL=main.bac1d32d.chunk.js.map